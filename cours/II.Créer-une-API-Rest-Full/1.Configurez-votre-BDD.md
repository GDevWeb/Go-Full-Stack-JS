[**lien du cours**](https://openclassrooms.com/fr/courses/6390246-passez-au-full-stack-avec-node-js-express-et-mongodb/6466348-configurez-votre-base-de-donnees)

**code source du cours :**

```js
mongoose
  .connect(
    "mongodb+srv://jimbob:<PASSWORD>@cluster0-pme76.mongodb.net/test?retryWrites=true&w=majority",
    { useNewUrlParser: true, useUnifiedTopology: true }
  )
  .then(() => console.log("Connexion à MongoDB réussie !"))
  .catch(() => console.log("Connexion à MongoDB échouée !"));
```

**Qu'est-ce qu'une base de données ?**

Une base de données, en gros, est une collection de données structurées. La structure des données, ainsi que l'organisation de la collection dépendent du type de base de données. Il y a deux types de base qui nous intéresseront ici : SQL et NoSQL.

**Qu'est-ce qu'une base de données SQL ?**

Une base de données SQL (prononcé "ci-couel", ou "sequel" en anglais) est une base de données relationnelle qui emploie le langage Structured Query Language pour gérer les données qu'elle contient. Généralement, une base de données SQL organise ses données dans des tables selon des schémas stricts. Par exemple, si on décide qu'un utilisateur a un prénom, un nom et une adresse mail, on aura une table Users avec des colonnes first_name , last_name et email , et chaque rangée correspondra à un utilisateur. Pour être un utilisateur valide, chaque utilisateur doit avoir un prénom, un nom et une adresse mail, donc on peut être certain que chaque utilisateur tiré de la base de données aura ces attributs.

Dans une base de données SQL, les relations entre les différentes tables sont très importantes. Pour cette raison, notre table Users aura également une colonne id pour l'identifiant individuel unique de chaque utilisateur. Cela signifie que l'on peut faire référence à un utilisateur depuis une autre table. Par exemple, on pourrait avoir une table Orders pour les commandes des utilisateurs. Chaque commande doit appartenir à un utilisateur, donc on fera référence à l'identifiant de l'utilisateur dans la colonne user_id de la table Orders.

Les bases de données SQL (comme MySQL ou PostgreSQL) sont très bien adaptées aux données relationnelles et pour des données où des définitions fortes sont nécessaires. Cependant, dans le contexte de projets plus petits, des MVP ou des startups, on ne sait peut-être pas encore à quoi ressemblera notre dernier modèle de données. On souhaitera aussi potentiellement pouvoir grandir rapidement (il est très difficile d'agrandir une base de données SQL au-delà d'une certaine limite) pour pouvoir gérer un plus grand nombre d'utilisateurs. Voilà où le NoSQL montre son utilité, en particulier MongoDB.

**Qu'est-ce que MongoDB ?**

MongoDB est une base de données NoSQL. Cela signifie que l'on ne peut pas utiliser SQL pour communiquer avec. Les données sont stockées comme des collections de documents individuels décrits en JSON (JavaScript Object Notation). Il n'y a pas de schéma strict de données (on peut écrire, en gros, ce que l'on veut où l'on veut), et il n'y a pas de relation concrète entre les différentes données. Cependant, il existe des outils (que vous découvrirez rapidement !) pour nous aider à subvenir à ces besoins.

Les avantages principaux de MongoDB sont son évolutivité et sa flexibilité. Le site officiel décrit MongoDB comme étant "construit pour des personnes qui construisent des applications Internet et des applications métier qui ont besoin d'évoluer rapidement et de grandir élégamment". La compétence MongoDB est donc très recherchée dans les startups et PME. Un autre avantage est la facilité avec laquelle on communique avec la base de données avec JavaScript, avec les documents décrits en JSON. Cela vous permet d'appliquer les connaissances JS que vous avez déjà à la couche base de données !

**Mongoose est un package qui facilite les interactions avec notre base de données MongoDB. Il nous permet de :**

1. Valider le format des données ;

2. Gérer les relations entre les documents ;

3. Communiquer directement avec la base de données pour la lecture et l'écriture des documents.

Tout cela nous permet de dépasser plusieurs des obstacles que l'on peut rencontrer avec des bases de données NoSQL, et d'appliquer nos connaissances en JavaScript à une base encore plus fonctionnelle !

**En résumé :**

1. Pour des applications qui ont besoin d'évoluer rapidement, les bases de données NoSQL comme MongoDB sont souvent un bon choix de technologie.

2. MongoDB Atlas permet d'héberger gratuitement une base de données MongoDB.

3. Le package Mongoose facilite les interactions entre votre application Express et votre base de données MongoDB.
